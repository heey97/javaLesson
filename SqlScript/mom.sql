CREATE TABLE TBL_CUSTOMER(
ID VARCHAR2(20) PRIMARY KEY,
NAME VARCHAR2(20) NOT NULL,
AGE NUMBER(3) NOT NULL,
PHONE VARCHAR(20) NOT NULL UNIQUE
);

DROP TABLE TBL_FOOD;
DROP TABLE TBL_CUSTOMER;
DROP TABLE TBL_BUYLIST;


CREATE TABLE TBL_FOOD(
FCODE VARCHAR2(20) PRIMARY KEY,
FNAME VARCHAR2(100) NOT NULL UNIQUE,
CATEGORY VARCHAR2(20) NOT NULL,
PRICE NUMBER(10) NOT NULL,
GRAM NUMBER(5),
KAL NUMBER(7)
);

CREATE TABLE TBL_BUYLIST(
IDX NUMBER(4) PRIMARY KEY,
id VARCHAR2(20) NOT NULL,
FCODE VARCHAR2(20) NOT NULL,
QUANTITY NUMBER(2) NOT NULL,
BUY_DATE DATE NOT NULL,
CONSTRAINT fk_id FOREIGN KEY(id) REFERENCES TBL_CUSTOMER (id),
CONSTRAINT fk_fcode FOREIGN KEY(fcode) REFERENCES TBL_FOOD (fcode)
);

DROP SEQUENCE LIST_SEQ;
CREATE SEQUENCE LIST_SEQ
       INCREMENT BY 1
       START WITH 1
       MINVALUE 1
       MAXVALUE 9999
       NOCYCLE
       NOCACHE
       ORDER;





-----------------------------INSERT
--버거 목록
INSERT INTO TBL_FOOD VALUES('BIBIM','전주 비빔 라이스버거','BUGER',6900,285,572);
INSERT INTO TBL_FOOD VALUES('SHRIMP','새우 베이컨 버거','BUGER',5800,211,538);
INSERT INTO TBL_FOOD VALUES('DOUBLE','더블 버거','BUGER',6800,228,712);
INSERT INTO TBL_FOOD VALUES('T-REX','T-REX 버거','BUGER',4700,213,475);
INSERT INTO TBL_FOOD VALUES('HANUB', '한우불고기','BUGER',8400,263,572 );
INSERT INTO TBL_FOOD VALUES('DOUHANUB', '더블 한우불고기','BUGER',12400,352,802 );
INSERT INTO TBL_FOOD VALUES('DOUCLCHE', '더블 클래식치즈버거','BUGER',6900,213,731 );
INSERT INTO TBL_FOOD VALUES('CHICKEN','치킨 버거','BUGER',4000,141,355);
INSERT INTO TBL_FOOD VALUES('DOUCHI', '더블 치킨버거','BUGER',5500,205,478 );
INSERT INTO TBL_FOOD VALUES('DERI','데리 버거','BUGER',3300,134,348);
INSERT INTO TBL_FOOD VALUES('DOUDERI', '더블 데리버거','BUGER',4500,170,446 );
INSERT INTO TBL_FOOD VALUES('BIGBUL', '빅불','BUGER',7100,270,757);
INSERT INTO TBL_FOOD VALUES('BULGOGI', '불고기버거','BUGER',4700,188,476);
INSERT INTO TBL_FOOD VALUES('BULBAC','불고기 베이컨 버거','BUGER',5800,200,522);
INSERT INTO TBL_FOOD VALUES('MOZZABAC', '모짜렐라 인 더 버거 베이컨','BUGER',7400,223,699 );
INSERT INTO TBL_FOOD VALUES('DOUBLEX2', 'DoubleX2','BUGER',6800,228,712 );
INSERT INTO TBL_FOOD VALUES('SQUSHIDOU', '사각새우더블버거','BUGER',5700,208,556 );
INSERT INTO TBL_FOOD VALUES('RIAMIRA2', '리아미라클II','BUGER',5200,181,352);
INSERT INTO TBL_FOOD VALUES('DOURIAMIRA2', '더블리아미라클II','BUGER',6700,245,520 );
INSERT INTO TBL_FOOD VALUES('HOTCRI', '핫크리스피버거','BUGER',5900,190,503 );
INSERT INTO TBL_FOOD VALUES('CLCHE', '클래식치즈버거','BUGER',5200,146,490 );
INSERT INTO TBL_FOOD VALUES('HANUCOUPLE', '한우연인팩','BUGER',15500,1420,1745);
INSERT INTO TBL_FOOD VALUES('HANUNAME', '한우명품팩','BUGER',17300,1463,1855 );

--디저트 목록

INSERT INTO TBL_FOOD VALUES('PIGFURAID','깡돼후 돼지후라이드','DESSERT',6500,173,565);
INSERT INTO TBL_FOOD VALUES('SEASPOTATO','양념감자','DESSERT',2300,120,358);
INSERT INTO TBL_FOOD VALUES('POTATO','감자튀김','DESSERT',1800,89,267);
INSERT INTO TBL_FOOD VALUES('POTATOL','감자튀김L','DESSERT',2200,130,389);
INSERT INTO TBL_FOOD VALUES('WEDGEPOTAO','웨지감자','DESSERT',2100,117,242);
INSERT INTO TBL_FOOD VALUES('CHZSTICK','치즈 스틱','DESSERT',2400,49,160);
INSERT INTO TBL_FOOD VALUES('LCHZSTICK','롱치즈스틱','DESSERT',2000,49,156);
INSERT INTO TBL_FOOD VALUES('SQUIDRING','통오징어링','DESSERT',2600,77,179);
INSERT INTO TBL_FOOD VALUES('CORNSALAD','콘샐러드','DESSERT',1900,100,146);
INSERT INTO TBL_FOOD VALUES('CHKNUGGET','치킨 너겟','DESSERT',2700,85,198);
INSERT INTO TBL_FOOD VALUES('SHACKCHK','쉑쉑치킨','DESSERT',2900,87,252);

-- 치킨목록

INSERT INTO TBL_FOOD VALUES('SpicyWing','화이어윙','chicken',3100,85,178);
INSERT INTO TBL_FOOD VALUES('Fillet','치킨휠레','chicken',3100,77,183);
INSERT INTO TBL_FOOD VALUES('1ea','치킨 1조각','chicken',2800,130,272);
INSERT INTO TBL_FOOD VALUES('Family','패밀리팩','chicken',14800,1594,1714);
INSERT INTO TBL_FOOD VALUES('boneless half','순살치킨 하프팩(11조각)','chicken',9800,244,739);
INSERT INTO TBL_FOOD VALUES('boneless full','순살치킨 풀팩(22조각)','chicken',16800,487,1477);
INSERT INTO TBL_FOOD VALUES('Half Pack','치킨 하프백(4조각)','chicken',10500,88,268);
INSERT INTO TBL_FOOD VALUES('Full Pack','치킨 풀팩(9조각)','chicken',20000,1170,2448);


-- 음료/커피

INSERT INTO TBL_FOOD VALUES('Chamomile','캐모마일 티','Drink',2000,241,2);
INSERT INTO TBL_FOOD VALUES('Apple Chamomile','애플 캐모마일 티','Drink',2700,291,129);
INSERT INTO TBL_FOOD VALUES('Cola','콜라','Drink',2000,420,127);
INSERT INTO TBL_FOOD VALUES('cider','사이다','Drink',2000,420,133);
INSERT INTO TBL_FOOD VALUES('Zero Cola','제로슈거콜라','Drink',2000,420,0);
INSERT INTO TBL_FOOD VALUES('plum ade','자두쿨 에이드','Drink',2700,320,162);
INSERT INTO TBL_FOOD VALUES('Peach Black Tea','복숭아 홍차 에이드','Drink',2700,320,160);
INSERT INTO TBL_FOOD VALUES('Ice Tea','아이스티','Drink',2300,310,160);
INSERT INTO TBL_FOOD VALUES('Lemon ade','레몬에이드','Drink',2700,310,151);
INSERT INTO TBL_FOOD VALUES('Americano','아메리카노','Drink',2500,290,34);
INSERT INTO TBL_FOOD VALUES('Ice Americano','아이스아메리카노','Drink',2500,310,32);
INSERT INTO TBL_FOOD VALUES('Latte','카페라뗴','Drink',3000,300,206);
INSERT INTO TBL_FOOD VALUES('Ice Latte','아이스 카페라뗴','Drink',3000,295,106);
INSERT INTO TBL_FOOD VALUES('juice','오렌지주스(PET)','Drink',2500,90,377);
INSERT INTO TBL_FOOD VALUES('Milk','우유','Drink',1500,265,165);
INSERT INTO TBL_FOOD VALUES('Hot Choco','핫초코','Drink',2500,215,142);


-- 아이스샷

INSERT INTO TBL_FOOD VALUES('soft' , '소프트콘' , 'ice', 900,90,143);
INSERT INTO TBL_FOOD VALUES('Tornado choco' , '토네이도 초코쿠키' , 'ice', 2800,175,305);
INSERT INTO TBL_FOOD VALUES('Tornado strawberry' , '토네이도 스트로베리' , 'ice', 2800,177,268);
INSERT INTO TBL_FOOD VALUES('Tornado Duble' , '토네이도 더블초코' , 'ice', 2800,190,345);
INSERT INTO TBL_FOOD VALUES('Sunday Cream Plain' , '선데이아이스크림 플레인' , 'ice', 1900,150,218);
INSERT INTO TBL_FOOD VALUES('Sunday strawberry' , '선데이아이스크림 스트로베리' , 'ice', 1900,165,246);
INSERT INTO TBL_FOOD VALUES('Sunday Hersheys' , '선데이아이스크림 허쉬초코' , 'ice', 1900,170,270);


-- order는 시퀀스를 건너뛰지않고 반드시 체크하여 넘어감. 혹시 모를 primary key의 오류를 사전에 방지.

INSERT INTO TBL_BUYLIST VALUES(LIST_SEQ.NEXTVAL,'asd123','CHZSTICK','20',TO_DATE('2024-01-30','yyyy-mm-dd'));

SELECT * FROM TBL_CUSTOMER tc ;
SELECT * FROM TBL_BUYLIST;----수동커밋 설정되어있는사람만 commit;
SELECT * FROM TBL_FOOD;----수동커밋 설정되어있는사람만 commit;
--COMMIT;
INSERT INTO TBL_CUSTOMER tc VALUES ('asd123','이대환',25,'01012345678');
INSERT INTO TBL_CUSTOMER tc VALUES ('zxcv456','김강민',30,'01088884444');
INSERT INTO TBL_CUSTOMER tc VALUES ('qwe321','박재훈',22,'01056789012');
INSERT INTO TBL_CUSTOMER tc VALUES ('abcd9876','김건우',33,'01051323282');

SELECT * FROM TBL_FOOD WHERE KAL < 400 AND CATEGORY = 'BUGER';  

SELECT * FROM TBL_FOOD;
SELECT * 
                     FROM TBL_FOOD WHERE CATEGORY = 'BUGER'
                     AND PRICE <= 5000
     
ORDER BY PRICE ASC;                    